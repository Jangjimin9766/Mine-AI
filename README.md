# M:ine AI - AI ê¸°ë°˜ ì´ˆ ê°œì¸í™” ë§¤ê±°ì§„ í”Œë«í¼


> **ëª¨ë“  ê´€ì‹¬ì‚¬ë¥¼ í•œëˆˆì— ë‚˜ë§Œì˜ ë§¤ê±°ì§„ìœ¼ë¡œ ğŸ¨**

M:ine AIëŠ” ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ì–´ë–¤ ì£¼ì œë“  ì‹¤ì‹œê°„ìœ¼ë¡œ ì›¹ ê²€ìƒ‰í•˜ê³ , AIê°€ í¸ì§‘í•˜ì—¬ ê³ í’ˆì§ˆ ë§¤ê±°ì§„ ì½˜í…ì¸ ë¥¼ ìƒì„±í•˜ëŠ” FastAPI ê¸°ë°˜ ë°±ì—”ë“œ ì„œë²„ì…ë‹ˆë‹¤. íŒ¨ì…˜, ì—¬í–‰, ìŒì•…, ê±´ê°• ë“± ëª¨ë“  ë¶„ì•¼ì˜ ë§¤ê±°ì§„ì„ ìë™ìœ¼ë¡œ ìƒì„±í•˜ë©°, ì‚¬ìš©ì ë§ì¶¤í˜• ë¬´ë“œë³´ë“œ ì´ë¯¸ì§€ê¹Œì§€ ì œê³µí•©ë‹ˆë‹¤.

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### ğŸ¨ **1. AI ë§¤ê±°ì§„ ìë™ ìƒì„±**
- **ëª¨ë“  ì£¼ì œ ì§€ì›**: íŒ¨ì…˜, ì—¬í–‰, ìŒì•…, ê±´ê°•, ë¼ì´í”„ìŠ¤íƒ€ì¼ ë“± ì œí•œ ì—†ìŒ
- **ì‹¤ì‹œê°„ ì›¹ ê²€ìƒ‰**: Tavily APIë¥¼ í†µí•œ ìµœì‹  ì •ë³´ ìˆ˜ì§‘
- **ê³ í’ˆì§ˆ ì½˜í…ì¸ **: Vogue, GQ, Kinfolk ìŠ¤íƒ€ì¼ì˜ ì„¸ë ¨ëœ í•œêµ­ì–´ ë§¤ê±°ì§„
- **êµ¬ì¡°í™”ëœ ì¶œë ¥**: ì œëª©, ë„ì…ë¶€, ì„¹ì…˜ë³„ ë³¸ë¬¸, íƒœê·¸, ê³ í•´ìƒë„ ì´ë¯¸ì§€ í¬í•¨
- **ì‚¬ìš©ì ë§ì¶¤í˜•**: ì‚¬ìš©ì ê´€ì‹¬ì‚¬ë¥¼ ë°˜ì˜í•œ í†¤ & ìŠ¤íƒ€ì¼ ìë™ ì¡°ì •

### ğŸ–¼ï¸ **2. ë¬´ë“œë³´ë“œ ì´ë¯¸ì§€ ìƒì„± (Stable Diffusion XL on RunPod)**
- **GPU ê°€ì† ì´ë¯¸ì§€ ìƒì„±**: RunPod Serverless ê¸°ë°˜ Stable Diffusion XL (RTX 4090)
- **ë¡œì»¬ ê°œë°œ ì§€ì›**: Mac M-series (MPS) ê°€ì†ë„ ì§€ì›
- **ë§ì¶¤í˜• í”„ë¡¬í”„íŠ¸**: ì‚¬ìš©ì ì·¨í–¥, ë§¤ê±°ì§„ íƒœê·¸, ì£¼ì œë¥¼ ë°”íƒ•ìœ¼ë¡œ í”„ë¡¬í”„íŠ¸ ìë™ ìƒì„±
- **ê³ í’ˆì§ˆ ë°°ê²½**: í”„ë¡œí•„ ë°°ê²½, ì•± ì¸í„°í˜ì´ìŠ¤ìš© ê³ ê¸‰ ë¶„ìœ„ê¸°ì˜ ì¶”ìƒ/í…ìŠ¤ì²˜ ì´ë¯¸ì§€
- **ë‹¤ì–‘ì„± ë³´ì¥**: ëœë¤ ë³€í˜• ìš”ì†Œë¡œ ë§¤ë²ˆ ë‹¤ë¥¸ ìŠ¤íƒ€ì¼ ì œê³µ

### ğŸ’¬ **3. AI ì—ì´ì „íŠ¸ ê¸°ë°˜ ë§¤ê±°ì§„ í¸ì§‘ (Chat-based Editing)**
- **ìì—°ì–´ ëª…ë ¹**: "ì²« ë²ˆì§¸ ì„¹ì…˜ì„ ë” ê°ì„±ì ìœ¼ë¡œ ë°”ê¿”ì¤˜"
- **ì˜ë„ ë¶„ë¥˜ ì‹œìŠ¤í…œ**: ì‚¬ìš©ì ë©”ì‹œì§€ë¥¼ ë¶„ì„í•˜ì—¬ ì•¡ì…˜ ìë™ ê²°ì •
  - `APPEND_CONTENT`: ê¸°ì¡´ ë‚´ìš© ë³´ì¡´ + ìƒˆ ë‚´ìš© ì¶”ê°€
  - `CHANGE_TONE`: í†¤/ìŠ¤íƒ€ì¼ë§Œ ë³€ê²½
  - `FULL_REWRITE`: ì „ì²´ ì¬ì‘ì„±
- **ë§¤ê±°ì§„ ë ˆë²¨ í¸ì§‘**:
  - íŠ¹ì • ì„¹ì…˜ ì¬ìƒì„± (`regenerate_section`)
  - ìƒˆ ì„¹ì…˜ ì¶”ê°€ (`add_section`)
  - ì„¹ì…˜ ì‚­ì œ (`delete_section`)
  - ì „ì²´ í†¤ ë³€ê²½ (`change_tone`)
- **ì„¹ì…˜ ë ˆë²¨ í¸ì§‘**: ê°œë³„ ì„¹ì…˜ ë‹¨ìœ„ ì„¸ë°€í•œ ìˆ˜ì •
- **ì‹¤ì‹œê°„ ê²€ìƒ‰ ê¸°ë°˜**: ìƒˆ ì„¹ì…˜ ì¶”ê°€ ì‹œ Tavilyë¡œ ìµœì‹  ì •ë³´ ìë™ ê²€ìƒ‰

### ğŸ§  **4. ì¸í…”ë¦¬ì „íŠ¸ ì›¹ ê²€ìƒ‰ ë° í¬ë¡¤ë§**
- **Tavily Search**: ê²€ìƒ‰ ê¹Šì´ ì¡°ì ˆ (advanced), ì´ë¯¸ì§€ ìë™ ìˆ˜ì§‘
- **Jina AI Reader**: URL â†’ ê¹”ë”í•œ ë§ˆí¬ë‹¤ìš´ ë³¸ë¬¸ ì¶”ì¶œ
- **í´ë°± ì²˜ë¦¬**: ê²€ìƒ‰ ì‹¤íŒ¨ ì‹œ ê³ í’ˆì§ˆ Unsplash í”Œë ˆì´ìŠ¤í™€ë” ì´ë¯¸ì§€ ì œê³µ

### ğŸ”Œ **5. Spring Boot ë°±ì—”ë“œ ì—°ë™ (Gateway Pattern)**
- Python AI ì„œë²„ëŠ” ì½˜í…ì¸  **ìƒì„±ë§Œ** ë‹´ë‹¹
- Spring ì„œë²„ê°€ MySQL ì €ì¥ ë° ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬
- RESTful API ì„¤ê³„ë¡œ ì™„ì „í•œ ë¶„ë¦¬

### ğŸš€ **6. RunPod Serverless ë°°í¬ & CI/CD**
- **GPU ì„œë²„ë¦¬ìŠ¤**: RunPod Serverlessë¡œ RTX 4090 GPU í™œìš©
- **ìë™ ë°°í¬**: GitHub Actions â†’ Docker Hub â†’ RunPod ìë™ ë°°í¬
- **Discord ì•Œë¦¼**: ë°°í¬ ìƒíƒœ ì‹¤ì‹œê°„ ì•Œë¦¼
- **Cold Start ìµœì í™”**: ê²½ëŸ‰ Docker ì´ë¯¸ì§€ë¡œ ë¹ ë¥¸ ì‹œì‘

---

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Spring Boot   â”‚         â”‚   M:ine AI          â”‚      â”‚ External APIs   â”‚
â”‚   (Backend)     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   (RunPod/FastAPI)  â”‚â—„â”€â”€â”€â”€â–ºâ”‚                 â”‚
â”‚                 â”‚         â”‚                     â”‚      â”‚ â€¢ OpenAI GPT    â”‚
â”‚ â€¢ MySQL Storage â”‚         â”‚ â€¢ Magazine Gen      â”‚      â”‚ â€¢ Tavily Search â”‚
â”‚ â€¢ Business      â”‚         â”‚ â€¢ Moodboard Gen     â”‚      â”‚ â€¢ Jina Reader   â”‚
â”‚   Logic         â”‚         â”‚ â€¢ Section Edit      â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ â€¢ User Auth     â”‚         â”‚ â€¢ Intent Analysis   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                             â”‚
         â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”            â”‚   GPU Inference     â”‚
    â”‚  Client  â”‚            â”‚   (Stable Diff XL)  â”‚
    â”‚(Frontend)â”‚            â”‚   RTX 4090 @ RunPod â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   CI/CD Pipeline            â”‚
                    â”‚ GitHub â†’ Docker Hub â†’ RunPodâ”‚
                    â”‚ + Discord Notifications     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### **Backend Framework**
- **FastAPI**: ê³ ì„±ëŠ¥ ë¹„ë™ê¸° ì›¹ í”„ë ˆì„ì›Œí¬
- **Uvicorn**: ASGI ì„œë²„
- **Pydantic**: ë°ì´í„° ê²€ì¦ ë° ì„¤ì • ê´€ë¦¬

### **AI & NLP**
- **OpenAI GPT-3.5-turbo**: ë§¤ê±°ì§„ ì½˜í…ì¸  ìƒì„±, ì±„íŒ… ë¶„ì„
- **Local Stable Diffusion XL**: ë¬´ë“œë³´ë“œ ì´ë¯¸ì§€ ìƒì„±
- **Diffusers (Hugging Face)**: Stable Diffusion íŒŒì´í”„ë¼ì¸
- **PyTorch**: ë”¥ëŸ¬ë‹ í”„ë ˆì„ì›Œí¬ (MPS ê°€ì†)

### **Web Scraping & Search**
- **Tavily API**: AI ì¹œí™”ì  ê²€ìƒ‰ ì—”ì§„ (ì´ë¯¸ì§€ í¬í•¨)
- **Jina AI Reader**: URL â†’ ë§ˆí¬ë‹¤ìš´ ë³€í™˜
- **Requests**: HTTP ìš”ì²­
- **BeautifulSoup4**: HTML íŒŒì‹±

### **Configuration**
- **python-dotenv**: í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬
- **pydantic-settings**: íƒ€ì… ì•ˆì „ ì„¤ì • ê´€ë¦¬

---

## ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
Mine-AI/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ main.py                    # FastAPI ì•± ì§„ì…ì , ë¼ìš°í„° ë“±ë¡
â”‚   â”œâ”€â”€ config.py                  # í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (Pydantic)
â”‚   â”‚
â”‚   â”œâ”€â”€ api/                       # API ì—”ë“œí¬ì¸íŠ¸ (ë¼ìš°í„°)
â”‚   â”‚   â”œâ”€â”€ agent.py               # AI ì—ì´ì „íŠ¸ ì±„íŒ…
â”‚   â”‚   â”œâ”€â”€ analysis.py            # í…ìŠ¤íŠ¸ ìš”ì•½
â”‚   â”‚   â”œâ”€â”€ crawling.py            # ì›¹ í¬ë¡¤ë§
â”‚   â”‚   â”œâ”€â”€ magazine.py            # ë§¤ê±°ì§„ ìƒì„± API
â”‚   â”‚   â””â”€â”€ chat.py                # ë§¤ê±°ì§„ í¸ì§‘ ì±„íŒ… API
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                      # í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ llm_client.py          # OpenAI LLM í´ë¼ì´ì–¸íŠ¸ (í…ìŠ¤íŠ¸/JSON ìƒì„±)
â”‚   â”‚   â”œâ”€â”€ llm_gateway.py         # LLM ê²Œì´íŠ¸ì›¨ì´ (ìš”ì•½, íƒœê¹…, ì±„íŒ…)
â”‚   â”‚   â”œâ”€â”€ local_diffusion_client.py  # Stable Diffusion XL (MPS/CUDA)
â”‚   â”‚   â”œâ”€â”€ searcher.py            # Tavily ê²€ìƒ‰ + Jina í¬ë¡¤ë§
â”‚   â”‚   â”œâ”€â”€ magazine_maker.py      # ë§¤ê±°ì§„ ì½˜í…ì¸  ìƒì„± ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°
â”‚   â”‚   â”œâ”€â”€ magazine_editor.py     # ë§¤ê±°ì§„/ì„¹ì…˜ í¸ì§‘ + ì˜ë„ ë¶„ë¥˜
â”‚   â”‚   â”œâ”€â”€ moodboard_maker.py     # ë¬´ë“œë³´ë“œ ì´ë¯¸ì§€ ìƒì„± ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°
â”‚   â”‚   â””â”€â”€ crawler.py             # ì›¹ í¬ë¡¤ëŸ¬
â”‚   â”‚
â”‚   â””â”€â”€ models/                    # Pydantic ë°ì´í„° ëª¨ë¸
â”‚       â”œâ”€â”€ agent.py               # ì—ì´ì „íŠ¸ ì±„íŒ… ëª¨ë¸
â”‚       â”œâ”€â”€ analysis.py            # ë¶„ì„ ìš”ì²­/ì‘ë‹µ ëª¨ë¸
â”‚       â”œâ”€â”€ chat.py                # ë§¤ê±°ì§„ ì±„íŒ… í¸ì§‘ ëª¨ë¸
â”‚       â””â”€â”€ magazine.py            # ë§¤ê±°ì§„ ë°ì´í„° ëª¨ë¸
â”‚
â”œâ”€â”€ handler.py                     # RunPod Serverless í•¸ë“¤ëŸ¬
â”œâ”€â”€ Dockerfile.serverless          # RunPodìš© Docker ì´ë¯¸ì§€
â”‚
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ deploy-runpod.yml      # RunPod ìë™ ë°°í¬
â”‚       â”œâ”€â”€ ci.yml                 # CI í…ŒìŠ¤íŠ¸
â”‚       â””â”€â”€ discord-notify.yml     # Discord ì•Œë¦¼
â”‚
â”œâ”€â”€ tests/                         # í…ŒìŠ¤íŠ¸ ì½”ë“œ
â”‚   â”œâ”€â”€ test_moodboard_api.py      # ë¬´ë“œë³´ë“œ API í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ test_moodboard_variety.py  # ë¬´ë“œë³´ë“œ ë‹¤ì–‘ì„± í…ŒìŠ¤íŠ¸
â”‚
â”œâ”€â”€ .env                           # í™˜ê²½ ë³€ìˆ˜ (Git ì œì™¸)
â”œâ”€â”€ .gitignore
â”œâ”€â”€ requirements.txt               # Python ì˜ì¡´ì„±
â””â”€â”€ README.md
```

---

## ğŸš€ ì„¤ì¹˜ ë° ì‹¤í–‰

### **1. ì‚¬ì „ ìš”êµ¬ì‚¬í•­**
- Python 3.9 ì´ìƒ
- OpenAI API Key
- Tavily API Key
- (ì„ íƒ) Mac M-series (MPS) ë˜ëŠ” CUDA GPU (ë¡œì»¬ Stable Diffusionìš©)
- (ì„ íƒ) RunPod API Key (Serverless ë°°í¬ìš©)

### **2. ì €ì¥ì†Œ í´ë¡  ë° ê°€ìƒí™˜ê²½ ì„¤ì •**
```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone <repository-url>
cd Mine-AI

# ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
python -m venv venv
source venv/bin/activate  # Mac/Linux
# .\\venv\\Scripts\\activate   # Windows
```

### **3. ì˜ì¡´ì„± ì„¤ì¹˜**
```bash
pip install -r requirements.txt
```

**ì£¼ìš” ì˜ì¡´ì„±**:
- `fastapi`, `uvicorn[standard]`: ì›¹ í”„ë ˆì„ì›Œí¬
- `openai`: GPT API
- `tavily-python`: ê²€ìƒ‰ API
- `diffusers`, `transformers`, `torch`: Stable Diffusion
- `beautifulsoup4`, `requests`: í¬ë¡¤ë§

### **4. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**
`.env` íŒŒì¼ì„ í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ìƒì„±:

```env
# OpenAI API Key (í•„ìˆ˜)
OPENAI_API_KEY=sk-...

# Tavily Search API Key (í•„ìˆ˜)
TAVILY_API_KEY=tvly-...

# Jina AI Reader API Key (ì„ íƒ, ì—†ì–´ë„ ì‘ë™)
JINA_API_KEY=jina_...

# Spring Boot ì„œë²„ URL (Gateway ì—°ë™ìš©)
SPRING_API_URL=http://localhost:8080
```

### **5. ì„œë²„ ì‹¤í–‰ (ë¡œì»¬)**
```bash
uvicorn app.main:app --reload
```

ì„œë²„ê°€ `http://localhost:8000`ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.

### **6. RunPod Serverless ë°°í¬**
```bash
# Docker ì´ë¯¸ì§€ ë¹Œë“œ
docker build -f Dockerfile.serverless -t mine-ai-serverless .

# Docker Hubì— í‘¸ì‹œ
docker tag mine-ai-serverless jiminjang/mine-ai-serverless:latest
docker push jiminjang/mine-ai-serverless:latest

# GitHub main ë¸Œëœì¹˜ í‘¸ì‹œ ì‹œ ìë™ ë°°í¬ë¨
git push origin main
```

---

## ğŸ“– API ì‚¬ìš©ë²•

### **API ë¬¸ì„œ í™•ì¸**
- **Swagger UI**: [http://localhost:8000/docs](http://localhost:8000/docs)
- **ReDoc**: [http://localhost:8000/redoc](http://localhost:8000/redoc)

### **ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸**

#### **1ï¸âƒ£ ë§¤ê±°ì§„ ìƒì„±**
```http
POST /api/magazine/create
Content-Type: application/json

{
  "topic": "ì œì£¼ë„ ê²¨ìš¸ ì—¬í–‰",
  "user_email": "user@example.com",
  "user_mood": "ë”°ëœ»í•˜ê³  ê°ì„±ì ì¸",
  "user_interests": ["ì—¬í–‰", "ì‚¬ì§„", "ì¹´í˜"]
}
```

**ì‘ë‹µ**:
```json
{
  "title": "ì œì£¼ ê²¨ìš¸, ê¼­ ê°€ì•¼ í•  5ê³³",
  "introduction": "ê²¨ìš¸ ì œì£¼ëŠ” ì—¬ë¦„ê³¼ëŠ” ë‹¤ë¥¸ ë§¤ë ¥ì´ ìˆë‹¤...",
  "cover_image_url": "https://...",
  "sections": [
    {
      "heading": "ì„±ì‚°ì¼ì¶œë´‰ì˜ ê²¨ìš¸ ì¼ì¶œ",
      "content": "ìƒˆí•´ ì²«ë‚ , ì„±ì‚°ì¼ì¶œë´‰ì—ì„œ ë§ì´í•˜ëŠ” ì¼ì¶œì€...",
      "image_url": "https://...",
      "layout_hint": "image_left"
    }
  ],
  "tags": ["ì œì£¼ì—¬í–‰", "ê²¨ìš¸ì¶”ì²œ", "ê°ì„±ì—¬í–‰"]
}
```

#### **2ï¸âƒ£ ë¬´ë“œë³´ë“œ ìƒì„±**
```http
POST /api/magazine/moodboard
Content-Type: application/json

{
  "topic": "ë¯¸ë‹ˆë©€ ë¼ì´í”„",
  "user_mood": "ì°¨ë¶„í•˜ê³  ì„¸ë ¨ëœ",
  "user_interests": ["ì¸í…Œë¦¬ì–´", "ë¯¸ë‹ˆë©€ë¦¬ì¦˜"],
  "magazine_tags": ["ë¯¸ë‹ˆë©€", "ì‹¬í”Œ", "ëª¨ë˜"],
  "magazine_titles": ["ë‚˜ë§Œì˜ ê³µê°„ ë§Œë“¤ê¸°"]
}
```

**ì‘ë‹µ**:
```json
{
  "image_url": "data:image/png;base64,iVBORw0KGgoAAAANS...",
  "description": "abstract geometric shapes, soft pastel colors, minimalist, high quality, 8k, cinematic lighting, wallpaper, texture"
}
```

#### **3ï¸âƒ£ ë§¤ê±°ì§„ í¸ì§‘ (AI ì±„íŒ…)**
```http
POST /api/magazine/chat
Content-Type: application/json

{
  "magazine_id": 123,
  "magazine_data": { /* ì „ì²´ ë§¤ê±°ì§„ ë°ì´í„° */ },
  "user_message": "ì²« ë²ˆì§¸ ì„¹ì…˜ì„ ë” ê°ì„±ì ìœ¼ë¡œ ë°”ê¿”ì¤˜"
}
```

**ì‘ë‹µ**:
```json
{
  "intent": "regenerate_section",
  "success": true,
  "updated_magazine": {
    "heading": "ì²« ë²ˆì§¸ ì„¹ì…˜ì„ ë” ê°ì„±ì ìœ¼ë¡œ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.",
    "new_sections": [...],
    "deleted_section_ids": []
  }
}
```

#### **4ï¸âƒ£ ì„¹ì…˜ í¸ì§‘ (Section-Level)**
```http
POST /api/edit_section
Content-Type: application/json

{
  "section_data": {
    "id": 101,
    "heading": "ì„±ì‚°ì¼ì¶œë´‰ì˜ ê²¨ìš¸ ì¼ì¶œ",
    "content": "<p>ìƒˆí•´ ì²«ë‚ , ì„±ì‚°ì¼ì¶œë´‰ì—ì„œ ë§ì´í•˜ëŠ” ì¼ì¶œì€...</p>"
  },
  "message": "ì—¬ê¸°ì— ì¹´í˜ ì¶”ì²œë„ ì¶”ê°€í•´ì¤˜"
}
```

**ì‘ë‹µ**:
```json
{
  "intent": "APPEND_CONTENT",
  "success": true,
  "updated_section": {
    "heading": "ì„±ì‚°ì¼ì¶œë´‰ì˜ ê²¨ìš¸ ì¼ì¶œ",
    "content": "<p>ìƒˆí•´ ì²«ë‚ , ì„±ì‚°ì¼ì¶œë´‰ì—ì„œ ë§ì´í•˜ëŠ” ì¼ì¶œì€...</p><p>ê·¼ì²˜ ì¹´í˜ ì¶”ì²œ: ...</p>"
  }
}
```

#### **5ï¸âƒ£ AI ì—ì´ì „íŠ¸ ì±„íŒ…**
```http
POST /api/agent/chat
Content-Type: application/json

{
  "user_id": "user123",
  "message": "ìµœì‹  ê²¨ìš¸ ì½”íŠ¸ íŠ¸ë Œë“œ ì•Œë ¤ì¤˜"
}
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸

### **ë¬´ë“œë³´ë“œ ë‹¤ì–‘ì„± í…ŒìŠ¤íŠ¸**
```bash
python tests/test_moodboard_variety.py
```
ê°™ì€ ì£¼ì œë¡œ 5ë²ˆ ìƒì„±í•˜ì—¬ ì´ë¯¸ì§€ ë‹¤ì–‘ì„± í™•ì¸

### **ë¬´ë“œë³´ë“œ API í…ŒìŠ¤íŠ¸**
```bash
python tests/test_moodboard_api.py
```

---

## ğŸ¯ í•µì‹¬ ì„¤ê³„ ì² í•™

### **1. Gateway Pattern (Python â†” Spring ë¶„ë¦¬)**
- **Python**: AI ì½˜í…ì¸  ìƒì„±ë§Œ ë‹´ë‹¹ (Stateless)
- **Spring**: ë°ì´í„° ì €ì¥, ì¸ì¦, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë‹´ë‹¹
- **ì¥ì **: ê° ì„œë²„ì˜ ì±…ì„ ëª…í™•, ë…ë¦½ì  í™•ì¥ ê°€ëŠ¥

### **2. Informative & Sophisticated ë§¤ê±°ì§„**
- **ì •ë³´ ìš°ì„ **: êµ¬ì²´ì ì¸ ì‚¬ì‹¤, ìˆ«ì, ì´ë¦„, ìœ„ì¹˜ í¬í•¨
- **ì„¸ë ¨ëœ ë¬¸ì²´**: Vogue, GQ, Kinfolk ìŠ¤íƒ€ì¼ì˜ ê³ ê¸‰ìŠ¤ëŸ¬ìš´ í†¤
- **ëª…í™•ì„± ìœ ì§€**: ì‹œì  í‘œí˜„ë³´ë‹¤ ëª…í™•í•œ ì •ë³´ ì „ë‹¬ ìš°ì„ 

### **3. GPU Serverless (í™•ì¥ì„± + ë¹„ìš© ìµœì í™”)**
- RunPod Serverlessë¡œ RTX 4090 GPU ì˜¨ë””ë§¨ë“œ ì‚¬ìš©
- ë¡œì»¬ ê°œë°œ: Mac MPS / CUDA ê°€ì† ì§€ì›
- Lazy Loadingìœ¼ë¡œ Cold Start ì‹œê°„ ë‹¨ì¶•
- ì‚¬ìš©ëŸ‰ ê¸°ë°˜ ê³¼ê¸ˆìœ¼ë¡œ ë¹„ìš© ìµœì í™”

### **4. Multi-Source Search (ì •í™•ë„ í–¥ìƒ)**
- **Tavily**: ë¹ ë¥¸ ê²€ìƒ‰ + ì´ë¯¸ì§€ ìˆ˜ì§‘
- **Jina AI**: ê¹Šì´ ìˆëŠ” ë³¸ë¬¸ ì½ê¸° (Top 1 URL)
- **Fallback**: ê²€ìƒ‰ ì‹¤íŒ¨ ì‹œ ê³ í’ˆì§ˆ í”Œë ˆì´ìŠ¤í™€ë” ì œê³µ

### **5. Extensible LLM Client**
- OpenAI APIë¥¼ ì¶”ìƒí™”í•œ `LLMClient` í´ë˜ìŠ¤
- í–¥í›„ ë¡œì»¬ LoRA ëª¨ë¸, Claude, Gemini ë“± ì‰½ê²Œ êµì²´ ê°€ëŠ¥
- `generate_text()`, `generate_json()` ë©”ì„œë“œ ì œê³µ

---

## ğŸ”§ ê³ ê¸‰ ê¸°ëŠ¥ ë° ìµœì í™”

### **Stable Diffusion ìµœì í™”**
```python
# app/core/local_diffusion_client.py

# MPS (Mac M-series) ê°€ì†
self.pipe.to("mps")

# ë©”ëª¨ë¦¬ ìµœì í™” (ì˜µì…˜)
# self.pipe.enable_attention_slicing()

# FP16 ì‚¬ìš©ìœ¼ë¡œ ì†ë„ í–¥ìƒ
torch_dtype=torch.float16
```

### **ì´ë¯¸ì§€ URL ê²€ì¦ ë° ë³´ì •**
```python
# app/core/magazine_maker.py

# AIê°€ ì˜ëª»ëœ URLì„ ìƒì„±í•  ê²½ìš° ìë™ ë³´ì •
if not result_json.get('cover_image_url').startswith('http'):
    result_json['cover_image_url'] = images[0]
```

### **í•œêµ­ì–´ ì„œìˆ˜ ìë™ ë³€í™˜**
```python
# app/core/magazine_editor.py

# "ì²« ë²ˆì§¸" â†’ index 0
# "ë‘ ë²ˆì§¸" â†’ index 1
# AIê°€ ìë™ ë³€í™˜í•˜ì—¬ ì •í™•í•œ ì„¹ì…˜ í¸ì§‘
```

---

## ğŸŒŸ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

### **ì‹œë‚˜ë¦¬ì˜¤ 1: íŒ¨ì…˜ ë§¤ê±°ì§„ ìƒì„±**
1. ì‚¬ìš©ìê°€ "2024 ê²¨ìš¸ ì½”íŠ¸ íŠ¸ë Œë“œ" ê²€ìƒ‰
2. Tavilyê°€ ìµœì‹  íŒ¨ì…˜ ê¸°ì‚¬ ê²€ìƒ‰ + ê³ í™”ì§ˆ ì´ë¯¸ì§€ ìˆ˜ì§‘
3. Jina AIê°€ ìƒìœ„ 1ê°œ ê¸°ì‚¬ ë³¸ë¬¸ ê¹Šì´ ì½ê¸°
4. GPT-3.5ê°€ Vogue ìŠ¤íƒ€ì¼ ë§¤ê±°ì§„ ì‘ì„±
5. Stable Diffusion XLì´ ë¬´ë“œë³´ë“œ ë°°ê²½ ì´ë¯¸ì§€ ìƒì„±

### **ì‹œë‚˜ë¦¬ì˜¤ 2: AI ì±„íŒ…ìœ¼ë¡œ ë§¤ê±°ì§„ ì»¤ìŠ¤í„°ë§ˆì´ì§•**
1. ì‚¬ìš©ì: "ì²« ë²ˆì§¸ ì„¹ì…˜ì„ ë” ê°ì„±ì ìœ¼ë¡œ ë°”ê¿”ì¤˜"
2. AIê°€ ì˜ë„ ë¶„ì„ â†’ `regenerate_section` ì•¡ì…˜ ê²°ì •
3. ì›ë³¸ ì´ë¯¸ì§€ëŠ” ìœ ì§€í•˜ë©´ì„œ í…ìŠ¤íŠ¸ë§Œ ì¬ìƒì„±
4. ì‚¬ìš©ì: "009ì˜ ì•¨ë²” ì¶”ì²œ ì„¹ì…˜ ì¶”ê°€í•´ì¤˜"
5. AIê°€ Tavilyë¡œ 009 ì•¨ë²” ì •ë³´ ê²€ìƒ‰ â†’ ìƒˆ ì„¹ì…˜ ìƒì„±

### **ì‹œë‚˜ë¦¬ì˜¤ 3: ë¬´ë“œë³´ë“œ ì¬ìƒì„± (Re-roll)**
1. ì‚¬ìš©ìê°€ ë¬´ë“œë³´ë“œ ìƒì„±
2. ë§ˆìŒì— ì•ˆ ë“¤ë©´ ê°™ì€ íŒŒë¼ë¯¸í„°ë¡œ ì¬ìš”ì²­
3. `random.choice(variations)`ë¡œ ë§¤ë²ˆ ë‹¤ë¥¸ ìŠ¤íƒ€ì¼ í”„ë¡¬í”„íŠ¸ ìƒì„±
4. ì™„ì „íˆ ë‹¤ë¥¸ ì´ë¯¸ì§€ íšë“ (ë¬´ì œí•œ ì¬ìƒì„±)

---

## ğŸš§ í–¥í›„ ê°œë°œ ê³„íš

- [x] ~~RunPod Serverless ë°°í¬~~ âœ…
- [x] ~~CI/CD íŒŒì´í”„ë¼ì¸~~ âœ…
- [x] ~~ì„¹ì…˜ ë ˆë²¨ í¸ì§‘~~ âœ…
- [x] ~~ì˜ë„ ë¶„ë¥˜ ì‹œìŠ¤í…œ~~ âœ…
- [ ] **ì´ë¯¸ì§€ S3 ì €ì¥**: Data URI ëŒ€ì‹  S3 ì—…ë¡œë“œ í›„ URL ë°˜í™˜
- [ ] **LoRA Fine-tuning**: M:ine ìŠ¤íƒ€ì¼ ì „ìš© ê²½ëŸ‰ ëª¨ë¸ í•™ìŠµ
- [ ] **ë‹¤êµ­ì–´ ì§€ì›**: ì˜ì–´, ì¼ë³¸ì–´ ë§¤ê±°ì§„ ìƒì„±
- [ ] **ìŒì„± ê¸°ë°˜ í¸ì§‘**: "Hey M:ine, ì²« ë²ˆì§¸ ì„¹ì…˜ ë°”ê¿”ì¤˜"
- [ ] **ìë™ ë ˆì´ì•„ì›ƒ ì¶”ì²œ**: ì„¹ì…˜ ê°œìˆ˜/ì´ë¯¸ì§€ ë¹„ìœ¨ì— ë”°ë¥¸ ìµœì  ë ˆì´ì•„ì›ƒ
- [ ] **ì‹¤ì‹œê°„ í˜‘ì—…**: ì—¬ëŸ¬ ì‚¬ìš©ìê°€ ë™ì‹œì— ë§¤ê±°ì§„ í¸ì§‘

---

## ğŸ“ ë¼ì´ì„¼ìŠ¤

MIT License

---

## ğŸ™ coop

- **OpenAI**: GPT-3.5-turbo API
- **Stability AI**: Stable Diffusion XL ëª¨ë¸
- **Tavily**: AI ì¹œí™”ì  ê²€ìƒ‰ ì—”ì§„
- **Jina AI**: ê¹”ë”í•œ ì›¹ í¬ë¡¤ë§ ì„œë¹„ìŠ¤
- **Hugging Face**: Diffusers ë¼ì´ë¸ŒëŸ¬ë¦¬

---

<div align="center">

team:SOULution
Mine
## ğŸ‘¥ Contributors

<table align="center">
  <tr>
    <td align="center" width="150px">
      <a href="https://github.com/jangjimin9766">
        <img src="https://github.com/jangjimin9766.png" width="100px" style="border-radius:50%"/>
      </a>
    </td>
  </tr>
  <tr>
    <td align="center">
      <b>ì¥ì§€ë¯¼</b><br/>
      <a href="https://github.com/jangjimin9766">@jangjimin9766</a><br/>
     <b> Tech Lead</b><br/>
      AI Engineering<br/>
      Prompt Engineering<br/>
      Model Optimization (MPS)
    </td>
  </tr>
</table>

</div>
